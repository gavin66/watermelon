/*! jquery-sidebar - v1.1.2 - 2016-03-12
* https://github.com/gavin66/jQuery-Sidebar
* Copyright (c) 2016 ; Licensed MIT */
!function(a){"use strict";"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=a:"function"==typeof define?define.amd||define(["jquery"],a):a()}(function(){"use strict";$.jqSidebar=function(a){function b(a){"left"===a&&o&&(h&&t&&q?j?d("left"):l&&c("left"):h?d("left"):c("left")),"right"===a&&w&&(i&&B&&y?k?d("right"):m&&c("right"):i?d("right"):c("right"))}function c(a){var b=1;o&&"left"===a&&("sidebar-turn"!==g.rightMode&&(i&&(b=400),d("right")),l?e("turn",[q,t],"left",u,function(){j=!0,l=!1}):"container-offset"===g.leftMode?setTimeout(function(){e("offset",[n],"",p,function(){h=!0})},b):"sidebar-offset"===g.leftMode&&setTimeout(function(){e("offset",[o],"",p,function(){h=!0})},b)),w&&"right"===a&&("sidebar-turn"!==g.leftMode&&(h&&(b=400),d("left")),m?e("turn",[y,B],"right",C,function(){k=!0,m=!1}):"container-offset"===g.rightMode?setTimeout(function(){e("offset",[n],"","-"+x,function(){i=!0})},b):"sidebar-offset"===g.rightMode&&setTimeout(function(){e("offset",[w],"","-"+x,function(){i=!0})},b))}function d(a){o&&"left"===a&&(j?e("turn",[t,q],"left",r,function(){j=!1,l=!0}):"container-offset"===g.leftMode?e("offset",[n],"","0px",function(){h=!1}):"sidebar-offset"===g.leftMode&&e("offset",[o],"","0px",function(){h=!1})),w&&"right"===a&&(k?e("turn",[B,y],"right",z,function(){k=!1,m=!0}):"container-offset"===g.rightMode?e("offset",[n],"","0px",function(){i=!1}):"sidebar-offset"===g.rightMode&&e("offset",[w],"","0px",function(){i=!1}))}function e(a,b,c,d,e){"turn"===a?"left"===c?b[0].stop().fadeOut(200,function(){n.dequeue().animate({marginLeft:d},300),o.stop().animate({width:d},300,function(){b[1].stop().fadeIn(200,function(){e()})})}):"right"===c&&b[0].stop().fadeOut(200,function(){n.dequeue().animate({marginRight:d},300),w.stop().animate({width:d},300,function(){b[1].stop().fadeIn(200,function(){e()})})}):"offset"===a&&(b[0].css("transform","translate( "+d+" )"),e())}function f(a,b){a.stopPropagation(),a.preventDefault()}var g=$.extend({leftMode:"container-offset",rightMode:"container-offset",leftTurnShow:"jqsb-left-bg",rightTurnShow:"jqsb-right-bg",sideActive:"",autoClose:!0},a),h="left"===g.sideActive?1:0,i="right"===g.sideActive?1:0,j=!1,k=!1,l=!1,m=!1;if($(".jqsb-container").length)var n=$(".jqsb-container");if($(".jqsb-left").length)var o=$(".jqsb-left"),p=o.css("width");if($(".jqsb-left-sm").length)var q=$(".jqsb-left-sm"),r=q.width(),s=q.css("width");if($(".jqsb-left-bg").length)var t=$(".jqsb-left-bg"),u=t.width(),v=t.css("width");if($(".jqsb-right").length)var w=$(".jqsb-right"),x=w.css("width");if($(".jqsb-right-sm").length)var y=$(".jqsb-right-sm"),z=y.width(),A=y.css("width");if($(".jqsb-right-bg").length)var B=$(".jqsb-right-bg"),C=B.width(),D=B.css("width");$(".jqsb-toggle-left").on("click",function(a){f(a,$(this)),b("left")}),$(".jqsb-toggle-right").on("click",function(a){f(a,$(this)),b("right")}),n.on("click",function(a){g.autoClose&&(o||w)&&(h||i)&&(f(a,$(this)),d("left"),d("right"))}),this.toggle=b,this.close=d,this.open=c,this.destroy=function(a){"left"===a&&o&&(h&&d("left"),setTimeout(function(){o.remove(),o=!1},400)),"right"===a&&w&&(i&&d("right"),setTimeout(function(){w.remove(),w=!1},400))},function(){n&&(o&&("sidebar-turn"===g.leftMode&&t&&q?(h=!0,"jqsb-left-bg"===g.leftTurnShow?(n.css("marginLeft",v),o.width(v),q.hide(),j=!0):(n.css("marginLeft",s),o.width(s),t.hide(),l=!0)):"container-offset"===g.leftMode&&h?c("left"):"sidebar-offset"===g.leftMode&&(o.css("marginLeft","-"+p).addClass("sidebar-mode"),h&&c("left"))),w&&("sidebar-turn"===g.rightMode&&B&&y?(i=!0,"jqsb-right-bg"===g.rightTurnShow?(n.css("marginRight",D),w.width(D),y.hide(),k=!0):(n.css("marginRight",A),w.width(A),B.hide(),m=!0)):"container-offset"===g.rightMode&&i?c("right"):"sidebar-offset"===g.rightMode&&(w.css("marginRight","-"+x).addClass("sidebar-mode"),i&&c("right"))))}()}});